# ğŸ‰ ××•×–×× ×™× ×‘×§×œ×™×§ - Wedding Guest OS

××¢×¨×›×ª ××§×¦×•×¢×™×ª ××œ××” ×œ× ×™×”×•×œ ××•×–×× ×™× ×œ×—×ª×•× ×” ×‘×¢×‘×¨×™×ª ×¢× ×ª××™×›×” ××œ××” ×‘-RTL.

## âœ¨ ×ª×›×•× ×•×ª ×¢×™×§×¨×™×•×ª

### ğŸ“± **RSVP ×¦×™×‘×•×¨×™**
- ×œ×™× ×§ ×™×™×—×•×“×™ ×œ×›×œ ××™×¨×•×¢ (`/e/:slug`)
- ×˜×•×¤×¡ ××™×©×•×¨ ×”×’×¢×” ×‘×¢×‘×¨×™×ª ××œ××”
- ×©×“×•×ª ××•×ª×××™× ××™×©×™×ª: ××¡×¤×¨ ××’×™×¢×™×, ×‘×—×™×¨×ª ×× ×”, ××œ×¨×’×™×•×ª, ×”×¢×¨×•×ª
- ×× ×’× ×•×Ÿ ×× ×™×¢×ª ×›×¤×™×œ×•×™×•×ª
- ××¤×©×¨×•×ª ×œ×§×‘×œ×ª ×”×¡×›××” ×œ×¢×“×›×•× ×™×

### ğŸ‘¥ **× ×™×”×•×œ ××•×–×× ×™×**
- ×¨×©×™××ª ×™×¢×“: ×™×™×‘×•× ×™×“× ×™ ××• CSV
- ×¢×¨×™×›×” ×•××—×™×§×” ×©×œ ××•×–×× ×™×
- ×–×™×”×•×™ ×›×¤×™×œ×•×™×•×ª ×œ×¤×™ ×˜×œ×¤×•×Ÿ
- ×—×™×¤×•×© ×•×¡×™× ×•×Ÿ ××ª×§×“×
- ×“×•×— ××™ ×¢× ×” ×•××™ ×œ×

### ğŸª‘ **×¡×™×“×•×¨×™ ×”×•×©×‘×”**
- ×™×¦×™×¨×ª ×©×•×œ×—× ×•×ª ×¢× ×§×™×‘×•×œ×ª
- ×”×§×¦××” ×™×“× ×™×ª ×©×œ ××•×–×× ×™× ×œ×©×•×œ×—× ×•×ª
- ×ª×¦×•×’×” ×•×™×–×•××œ×™×ª ×©×œ ×ª×¤×•×¡×”
- ×™×™×¦×•× ×¨×©×™××ª ×”×•×©×‘×”

### âœ… **×¦'×§-××™×Ÿ ×‘×™×•× ×”××™×¨×•×¢**
- ××¡×š ××•×ª×× ××•×‘×™×™×œ
- ×—×™×¤×•×© ××”×™×¨ ×©×œ ××•×–×× ×™×
- ×¨×™×©×•× ×”×’×¢×” ×‘×œ×—×™×¦×”
- ×¡×˜×˜×™×¡×˜×™×§×•×ª ×‘×–××Ÿ ×××ª

### ğŸ“Š **×“×©×‘×•×¨×“ ××¨×›×–×™**
- ×¡×§×™×¨×” ×›×œ×œ×™×ª: ×›××•×ª ×ª×’×•×‘×•×ª, ×¡×š ××’×™×¢×™×
- ×“×•×—×•×ª ×× ×•×ª ××™×•×—×“×•×ª ×•××œ×¨×’×™×•×ª
- ×™×™×¦×•× ×œExcel/CSV
- ××¢×§×‘ ××—×¨ ×›×œ ×”×¤×¢×•×œ×•×ª (Audit Logs)

### ğŸ”’ **××‘×˜×—×” ××œ××”**
- ××™××•×ª Clerk: Google, Email, Apple, Facebook
- Rate limiting ×œ×× ×™×¢×ª spam
- Validation ××œ× ×¢× Zod
- Audit logs ×œ×›×œ ×¤×¢×•×œ×” ×—×©×•×‘×”
- ×”×¨×©××•×ª ××‘×•×¡×¡×•×ª ×‘×¢×œ×•×ª

## ğŸ—ï¸ ×˜×›× ×•×œ×•×’×™×•×ª

### Backend
- **Hono** - Web framework ×§×œ×™×œ ×•××”×™×¨
- **Cloudflare D1** - SQLite ××‘×•×–×¨ ×’×œ×•×‘×œ×™
- **Drizzle ORM** - Type-safe ORM
- **Zod** - Schema validation
- **@hono/clerk-auth** - Authentication

### Frontend
- **TailwindCSS** - CSS framework
- **FontAwesome** - Icons
- **Axios** - HTTP client
- **Vanilla JS** - ×œ×œ× framework (× ×™×ª×Ÿ ×œ×”×•×¡×™×£ React/Vue)

### Infrastructure
- **Cloudflare Pages** - Hosting + Edge Functions
- **Cloudflare Workers** - Serverless runtime
- **Wrangler** - CLI tool ×œ×¤×¨×™×¡×”

## ğŸ“¦ ×”×ª×§× ×” ×•×”×¨×¦×” ××§×•××™×ª

### ×“×¨×™×©×•×ª ××•×§×“××•×ª
- Node.js 18+
- npm ××• pnpm
- ×—×©×‘×•×Ÿ Cloudflare (×—×™× ××™)
- ×—×©×‘×•×Ÿ Clerk (×—×™× ××™)

### 1. Clone ×•×”×ª×§× ×”

```bash
git clone <repository-url>
cd webapp
npm install
```

### 2. ×”×’×“×¨×ª Clerk Authentication

1. ×¦×•×¨ ×—×©×‘×•×Ÿ ×‘-[Clerk Dashboard](https://dashboard.clerk.com)
2. ×¦×•×¨ Application ×—×“×©
3. ×”×¤×¢×œ ××ª Authentication Providers:
   - âœ… Email
   - âœ… Google
   - âœ… Apple (××•×¤×¦×™×•× ×œ×™)
   - âœ… Facebook (××•×¤×¦×™×•× ×œ×™)
4. ×”×¢×ª×§ ××ª ×”××¤×ª×—×•×ª ×œ-`.dev.vars`:

```env
CLERK_PUBLISHABLE_KEY=pk_test_xxx
CLERK_SECRET_KEY=sk_test_xxx
```

### 3. ×”×’×“×¨×ª Database

```bash
# ×”×¨×¦×ª migrations
npm run db:migrate:local

# ×˜×¢×™× ×ª seed data ×œ×“×•×’××”
npm run db:seed
```

### 4. ×”×¨×¦×” ××§×•××™×ª

```bash
# Build
npm run build

# Start development server
npm run dev:sandbox

# ××• ×¢× PM2 (××•××œ×¥ ×œ×¡×‘×™×‘×ª sandbox)
fuser -k 3000/tcp 2>/dev/null || true
npm run build
pm2 start ecosystem.config.cjs
```

×”×’×© ×œ: http://localhost:3000

### 5. ×‘×“×™×§×ª API

```bash
# Health check
curl http://localhost:3000/api/health

# Public RSVP page (slug ×œ×“×•×’××”)
http://localhost:3000/e/wedding-demo-abc123
```

## ğŸš€ ×¤×¨×™×¡×” ×œ×¤×¨×•×“×§×©×Ÿ (Cloudflare Pages)

### 1. ×”×ª×§×Ÿ Wrangler

```bash
npm install -g wrangler
wrangler login
```

### 2. ×¦×•×¨ D1 Database ×‘×¤×¨×•×“×§×©×Ÿ

```bash
# ×¦×•×¨ database
npx wrangler d1 create mozmanim-production

# ×”×¢×ª×§ ××ª database_id ×œ-wrangler.jsonc
```

×¢×“×›×Ÿ `wrangler.jsonc`:
```jsonc
{
  "d1_databases": [
    {
      "binding": "DB",
      "database_name": "mozmanim-production",
      "database_id": "YOUR_DATABASE_ID_HERE"
    }
  ]
}
```

### 3. ×”×¨×¥ Migrations ×‘×¤×¨×•×“×§×©×Ÿ

```bash
npm run db:migrate:prod
```

### 4. ×”×’×“×¨ Secrets

```bash
# ×”×’×“×¨ Clerk keys
npx wrangler pages secret put CLERK_PUBLISHABLE_KEY --project-name mozmanim-beclick
npx wrangler pages secret put CLERK_SECRET_KEY --project-name mozmanim-beclick
```

### 5. Deploy

```bash
# Build + Deploy
npm run deploy

# ××• ×™×“ manually
npm run build
npx wrangler pages deploy dist --project-name mozmanim-beclick
```

×”×ª×•×¦××”:
- **Production URL**: `https://mozmanim-beclick.pages.dev`
- **API Endpoints**: `https://mozmanim-beclick.pages.dev/api/*`

## ğŸ“ ××‘× ×” ×”×¤×¨×•×™×§×˜

```
webapp/
â”œâ”€â”€ migrations/                 # D1 Database migrations
â”‚   â””â”€â”€ 0001_initial_schema.sql
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ db/                    # Database schema + ORM
â”‚   â”‚   â”œâ”€â”€ schema.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ lib/                   # Utilities + validators
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â””â”€â”€ validators.ts
â”‚   â”œâ”€â”€ middleware/            # Authentication + Rate limiting
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ audit.ts
â”‚   â”‚   â””â”€â”€ rateLimit.ts
â”‚   â”œâ”€â”€ routes/                # API endpoints
â”‚   â”‚   â”œâ”€â”€ events.ts          # × ×™×”×•×œ ××™×¨×•×¢×™×
â”‚   â”‚   â”œâ”€â”€ rsvps.ts           # RSVP endpoints
â”‚   â”‚   â”œâ”€â”€ guests.ts          # ×¨×©×™××ª ×™×¢×“
â”‚   â”‚   â”œâ”€â”€ tables.ts          # ×©×•×œ×—× ×•×ª
â”‚   â”‚   â”œâ”€â”€ seating.ts         # ×”×•×©×‘×”
â”‚   â”‚   â””â”€â”€ checkins.ts        # ×¦'×§-××™×Ÿ
â”‚   â””â”€â”€ index.tsx              # Main app entry
â”œâ”€â”€ public/
â”‚   â””â”€â”€ static/                # Static assets
â”œâ”€â”€ seed.sql                   # Seed data
â”œâ”€â”€ ecosystem.config.cjs       # PM2 config
â”œâ”€â”€ wrangler.jsonc             # Cloudflare config
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ—„ï¸ Database Schema

### Users
××©×ª××©×™× ×¨×©×•××™× (×‘×¢×œ×™ ××™×¨×•×¢×™×)

### Events
××™×¨×•×¢×™× (×—×ª×•× ×•×ª)

### Event Settings
×”×’×“×¨×•×ª ××•×ª×××•×ª ×œ×›×œ ××™×¨×•×¢

### RSVPs
×ª×’×•×‘×•×ª ××•×–×× ×™× ×“×¨×š ×”×œ×™× ×§ ×”×¦×™×‘×•×¨×™

### Guests
×¨×©×™××ª ×™×¢×“ - ××•×–×× ×™× ×©×”×•×–× ×• ×¢×œ ×™×“×™ ×‘×¢×œ ×”××™×¨×•×¢

### Tables
×©×•×œ×—× ×•×ª ×‘××™×¨×•×¢

### Seating
×¡×™×“×•×¨×™ ×”×•×©×‘×”

### Checkins
×¦'×§-××™× ×™× ×‘×™×•× ×”××™×¨×•×¢

### Audit Logs
×œ×•×’×™× ×©×œ ×›×œ ×”×¤×¢×•×œ×•×ª ×”×—×©×•×‘×•×ª

## ğŸ”Œ API Endpoints

### Public (×œ×œ× ××™××•×ª)
- `POST /api/rsvp/:slug` - ×™×¦×™×¨×ª RSVP

### Protected (×“×•×¨×© ××™××•×ª)
- `GET /api/events` - ×¨×©×™××ª ××™×¨×•×¢×™×
- `POST /api/events` - ×™×¦×™×¨×ª ××™×¨×•×¢
- `GET /api/events/:id` - ×¤×¨×˜×™ ××™×¨×•×¢
- `PUT /api/events/:id` - ×¢×“×›×•×Ÿ ××™×¨×•×¢
- `DELETE /api/events/:id` - ××—×™×§×ª ××™×¨×•×¢

- `GET /api/events/:eventId/rsvps` - ×¨×©×™××ª RSVPs
- `PUT /api/rsvps/:id` - ×¢×“×›×•×Ÿ RSVP
- `DELETE /api/rsvps/:id` - ××—×™×§×ª RSVP

- `GET /api/events/:eventId/guests` - ×¨×©×™××ª ×™×¢×“
- `POST /api/events/:eventId/guests` - ×”×•×¡×¤×ª ××•×¨×—
- `POST /api/events/:eventId/guests/bulk` - ×™×™×‘×•× ×”××•× ×™
- `DELETE /api/guests/:id` - ××—×™×§×ª ××•×¨×—

- `GET /api/events/:eventId/tables` - ×¨×©×™××ª ×©×•×œ×—× ×•×ª
- `POST /api/events/:eventId/tables` - ×™×¦×™×¨×ª ×©×•×œ×—×Ÿ
- `PUT /api/tables/:id` - ×¢×“×›×•×Ÿ ×©×•×œ×—×Ÿ
- `DELETE /api/tables/:id` - ××—×™×§×ª ×©×•×œ×—×Ÿ

- `GET /api/events/:eventId/seating` - ×¡×™×“×•×¨×™ ×”×•×©×‘×”
- `POST /api/events/:eventId/seating` - ×”×•×¡×¤×ª ×”×•×©×‘×”
- `DELETE /api/seating/:id` - ××—×™×§×ª ×”×•×©×‘×”

- `GET /api/events/:eventId/checkins` - ×¨×©×™××ª ×¦'×§-××™× ×™×
- `POST /api/events/:eventId/checkins` - ×‘×™×¦×•×¢ ×¦'×§-××™×Ÿ
- `DELETE /api/checkins/:id` - ×‘×™×˜×•×œ ×¦'×§-××™×Ÿ

## ğŸ›¡ï¸ ××‘×˜×—×”

### Rate Limiting
- RSVP: 5 ×‘×§×©×•×ª ×œ×“×§×”
- API: 30 ×‘×§×©×•×ª ×œ×“×§×”
- Auth: 10 ×‘×§×©×•×ª ×œ×“×§×”

### Validation
- ×›×œ ×”-inputs ×××•××ª×™× ×¢× Zod
- ××¡×¤×¨×™ ×˜×œ×¤×•×Ÿ ×™×©×¨××œ×™×™× ×‘×œ×‘×“
- ×¤×•×¨××˜ E.164 ×œ×©××™×¨×”

### Audit Logs
×›×œ ×¤×¢×•×œ×” ×—×©×•×‘×” × ×¨×©××ª:
- ×™×¦×™×¨×ª/×¢×“×›×•×Ÿ/××—×™×§×ª ××™×¨×•×¢×™×
- ×”×•×¡×¤×ª/×¢×“×›×•×Ÿ RSVPs
- ×©×™× ×•×™×™× ×‘×”×•×©×‘×”
- ×¦'×§-××™× ×™×

## ğŸ“ ×¤×™×ª×•×— ×¢×ª×™×“×™ (Roadmap)

- [ ] ×××©×§ Admin ××œ× (React/Vue)
- [ ] Wizard ××œ× ×œ×™×¦×™×¨×ª ××™×¨×•×¢
- [ ] Drag & Drop ×œ×”×•×©×‘×”
- [ ] ×™×™×¦×•× PDF ×œ×¨×©×™××•×ª
- [ ] WhatsApp Business API integration
- [ ] ×ª×–×›×•×¨×•×ª ××•×˜×•××˜×™×•×ª
- [ ] Multi-language support
- [ ] Analytics ××ª×§×“×

## ğŸ¤ ×ª××™×›×”

×œ×©××œ×•×ª, ×‘×¢×™×•×ª ××• ×”×¦×¢×•×ª:
- Email: support@mozmanim-beclick.com
- GitHub Issues: [×§×™×©×•×¨]

## ğŸ“„ ×¨×™×©×™×•×Ÿ

MIT License - ×¨××” ×§×•×‘×¥ LICENSE

---

**Built with â¤ï¸ using Cloudflare Pages + Hono + D1**
